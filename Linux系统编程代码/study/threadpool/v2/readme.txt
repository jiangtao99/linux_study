v2版本是实现优雅的退出，不能用pthread_cancel，弄一个退出flag，这个flag一开始为0
主线程在exitpipe管道就绪时，就把flag变为1
子线程在接收任务前检查一下flag，为1则终止
采用这种机制比较简单
因为子线程是循环工作的，采用pthread_broadcast来集体唤醒的话，可能又要会陷入等待中，所以在等待时加上flag标志位一同判断